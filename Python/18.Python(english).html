<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>

    <!-- style css -->
    <link rel='stylesheet' href='../common_designs.css'>

    <!--font english-->
    <link rel='preconnect' href='https://fonts.googleapis.com'>
    <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
    <link href='https://fonts.googleapis.com/css2?family=Cagliostro&family=Mukta&display=swap' rel='stylesheet'>

    <!-- font-hindi -->
    <link rel='preconnect' href='https://fonts.googleapis.com'>
    <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
    <link href='https://fonts.googleapis.com/css2?family=Eczar:wght@400..800&display=swap' rel='stylesheet'>
    <title>Accessing the web usign Python</title>
</head>
<body class='english'>
    <div id='progress-bar-container'>
        <img id='progress-bar' src='Image resource/peepo_updated.png' alt='Progress Indicator'>
    </div>

    <div id='overlay' class='overlay'>
        <span id='closeButton' class='close-btn'>&times;</span>
        <img id='overlayImage' class='overlay-img' src='' alt='Isolated Image'>
        <div class='zoom-controls'>
           <button id='zoomIn' class='zoom-btn'>+</button>
           <button id='zoomOut' class='zoom-btn'>-</button>
        </div>
   </div>

    <div class='container'>
        <h1 class='heading english'><u>Accessing the web usign Python</u></h1>
        <div class='divider'></div>

        <audio id='bgMusic' loop>
             <source src='../TheEndingSong.mp3' type='audio/mpeg'>
        </audio>

        <div class='content'>

<img src='Image resource\Peepo_teachingPY.PNG' alt='Welcome welcome_folks peepo teaching snake on his neck' class='images'><br>

            <b class="Name">Peepo: </b><br>
            <pre class="english">previously we talked about retreiving data from files we create. now what we are going to to is get out of disk drive and go to the internet</pre><br>

            <b class="Name">Einstein: </b><br>
            <pre class="english">for sure Peepo but can you please tell us a little about internet and its architecture</pre><br>

            <b class="Name">Peepo: </b><br>
            <pre class="english">sure the inter-net is just connection of different computer with each other. suppose two pc in a room are connected by a wire. the person sitting on one computer can access the other computer's stuff which is being shared.
now we can say that there is inter network between the two computer. now internet is just global network of computer accross the world.allowing exchange of data and information using different protocols
            </pre><br>

            <b class="Name">Jenna: </b><br>
            <pre class="english">oh like i have some information that i scored 100% . I told my friend that I scroed 100%. now my friend can access this information and can transfer it further if she wants.
internet is just computer's way of comunicating with each other. like human tell computer(a) to get some data from that other computer(b). now computer a will ask the other computer b . to give him the data. if b wants, he can give and then computer a will have access to the data from computer b. and can show the human that this is the data from b.
            </pre><br>

            <b class="Name">Peepo: </b><br>
            <pre class="english">exactly jenna . when you create a website, it gets stored in google's database. when you search, your computer is basically asking computer at google to give him the data. google' computer will give the data of the website and your computer will decode that data and show you the website. 
NOTE: google is a search engine the websites not get stored there but the internet (the computer which is conntected to all over the world/to seach engines like google). this was just an <b>example</b></pre><br>

                <b class="Name">Peepo: </b><br>
                <pre class="english">let us have a summary of the network architecture. studying that in details will be harder as per the scope of this lecture so let me give you the summary of big game.
let us see networ architecture that represents connection between two computers

            <b>SLide left for more images: </b>
            <pre class="english hilightR">
               <b class="Name">Peepo:</b>
                <div class="horizontal_scroll">
                    <img src="Image resource/networkArchitecture/Slide1.PNG" alt="1" class="images_scroll">
                    <img src="Image resource/networkArchitecture/Slide2.PNG" alt="2" class="images_scroll">
                    <video controls class="images_scroll">
                        <source src="Image resource/networkArchitecture/video.mp4" type="video/mp4">
                </video>
                </div>
            </pre>

                </pre><br>

                <b class="Name">Peepo: </b><br>
                <pre class="english">This is 
**** TRANSPORT CONTROL PROTOCOL (TCP)
* it is built on top of internet protocol (ip)
* assumes ip might lose some data-stores and retransmits data if it seems to be lost
* handles 'flow control' using a transmit window
* provide a nice reliable pipe


<b>dont worry if you dont understnad these lines.</b>
                </pre><br>

                <b class="Name">Peepo: </b><br>
                <pre class="english">for this lecture what we will do is use the end to end pipe(pathway) or layer . which is transport to transport layer hilighted in blue here.
<img src="Image resource/networkArchitecture/Slide3.PNG" alt="" class="images">
for example we write a python program which will talk to transport layer over to application of the server.
                
<b>for simplicity of the lecture we are just pretend that network and link layers dont exits and transport layer directly talks like a pipe.</b>
</pre><br>

                <b class="Name">Peepo: </b><br>
                <pre class="english">you write some program at your end and there a program on the software end might be in java, node,php or even pythone etc. when you connect to that server and talk to it, and that computer talks back to you like a communicatoin. 
we call that connection <b>Sockets.</b>
                </pre><br>

                <b class="Name">Peepo: </b><br>
                <pre class="english">now to make sure you are talking to the right application because there are many applications in the world. each application have a unique password/number we call them ports. thinks of ports like phone numbers, you use them to talk to the server 
A <b>port</b> is application-specific software cummincations endpoint.
allows multiple networked applications to coexist on same server

for example the incoming email has a port 25. when someone send an email, it connect to the server throught port 25 and tries to recieve or send some data.
                </pre><br>

                <b class="Name">Peepo: </b><br>
                <pre class="english">for this lecture we are going to use port: 80  which is the web port.(http)   .  the port for https is 443.
if you want to connect to a webserver, you go to the host name and port 80 and if the server exists. you will be talking to it.
                </pre><br>

                <b class="Name">Peepo: </b><br>
                <pre class="english">website can run even without these ports, like some might run on port 5500 , 8080 etc they are non standard ports. so its not necessary to be at port 80/443 but we generally expect then to be at port 80/443 as it is a conventional way and almost everyone uses it</pre><br>

                <b class="Name">jenna: </b><br>
                <pre class="english">Peepo, i cant understand a thing, python was easy what is this...</pre><br>

                <b class="Name">Peepo: </b><br>
                <pre class="english">Jenna dont worry if you dont understnad. just read it one and get a rough idea. that what we are doing. do try to understand it whole.you will understand it eventually but not in one lecture.</pre><br>

                <b class="Name">Jenna: </b><br>
                <pre class="english">oh thanks for that i was worring that i i dont have enough brain. guess everyone faces it.</pre><br>

                <b class="Name">Einstein: </b><br>
                <pre class="english">exacttly</pre><br>
                <b class="Name">Jenna: </b><br>
                <pre class="english">not talking to you</pre><br>
                <b class="Name">Peepo: </b><br>
                <pre class="english">exactly jenna</pre><br>

                <b class="Name">Peepo: </b><br>
                <pre class="english">so lets connect. 
<pre class='code'>
<code>
import socket   <b class='comments'># we need to import socket first,</b>

mysocket = socket.socket(socket.AF_INET , socket.SOCK_STREAM)  <b class='comments'># cant explain it in scope of this lecture. but you can research on web about this or ask AI.</b>
<b class='comments'># for now just type it as it is . its preparing the endpoint for your computer</b>
#  mysocket.connect (('hostName' , port number ))
mysocket.connect(('http://anishbansal.pythonanywhere.com' , 80))  <b class='comments'># the first argument is url</b>


<b class='comments'># this is like dialing the phone</b>
</code>
</pre><br>
                </pre><br>

                <b class="Name">Peepo: </b><br>
                <pre class="english">congrats now we are conntected to this site which i created and hosted myself for sole perpuse of this lecture (dont go on my english please)</pre><br>

                <b class="Name">Einstein: </b><br>
                <pre class="english">yah! but how do we communicate with it now, what are the rules, what are the sytax</pre><br>

                <b class="Name">Peepo: </b><br>
                <pre class="english">yeah! there are some rules when talking to different web server depending on it. just like there are some rules during a communication between humans, we say hello,hi,namaste,oi etc first. so thats the rule that we are supposed to greet first.</pre><br>

                <b class="Name">jenna: </b><br>
                <pre class="english">oh. so this means like human phone calls sometimes there is some network issue and you keep saying heelooo areee you thereeee? there are also some problems/excepts here?
Peepo: Yeah!
                </pre><br>

                <b class="Name">Peepo: </b><br>
                <pre class="english">in web file is http -> hyper text transfer protocol. used to retreive html,docs etc. and has different set of rules

lets see how to get our data we want
<pre class='code'>
<code>

import socket

<b class='comments'># Define the target host and port</b>
host = 'anishbansal.pythonanywhere.com'
port = 80

<b class='comments'># Define the path to the file you want to access</b>
file_paths = ['/data/email-data.txt', '/data/file.txt', '/data/poem.txt']

<b class='comments'># Create a socket object</b>
mysocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

try:
    <b class='comments'># Connect to the server</b>
    mysocket.connect((host, port))

    for file_path in file_paths:
        <b class='comments'># Send an HTTP GET request this request for data from the server</b>
        request = f"GET {file_path} HTTP/1.1\r\nHost: {host}\\r\\n\\r\\n"   <b class='comments'># the thing \r\n\r\n  marks the end of html header and start of body. you will know it during web development</b>
        mysocket.sendall(request.encode())   <b class='comments'># this code sends the request to server in an encoded way (encoded into bytes). like secret code language</b>
       
        <b class='comments'># by default it encodes into UTF-8 . you can search for utf-8 from ai using the prompt1 (DONT USE THIS one): why was uthf-8 foremd.what is utf=8 , use of it, and how does it encode strings.</b>
        <b class='comments hilightBlack'># you can use PROMPT: can you please explain why is utf-8. with a story of the past. include information given below: utf-8 uses, why it is default? what was before utf-8 and what was its problem? what was the need of an encoding system at all </b>

        <b class='comments'># Receive the response</b>
        response = b''    <b class='comments'># now website will give some respose and this will recieve it and save it in response variable</b>
      <b class='comments'># this is a b string that represents byte literal. gets data in bytes  For example, b"hello" represents the ASCII values(search for it) of the characters 'h', 'e', 'l', 'l', 'o' as bytes.</b>
        while True:
            data = mysocket.recv(4096) <b class='comments'># mysocket.recv(4096): This method recv() is used to receive data from the socket. When you call recv(4096), you're asking the socket to receive data, up to 4096 bytes in length, from the remote server. The number 4096 is the maximum amount of data to be received at once. This doesn't mean you'll always receive 4096 bytes; you might receive less if there's less data available.            </b>
            if not data:
                break
            response += data   <b class='comments'># saving data in response in bytes format</b>

        <b class='comments'># Print the response</b>
        print(f"Response for {file_path}:")    <b class='comments'># the respose will be printed for the file</b>
        print(f"the link to given file is https://{host}{file_path}")
        print(response.decode())      <b class='comments'># the decoded response will be printed</b>

except Exception as e:
    print(f"An error occurred: {e}")

finally:
    <b class='comments'># Close the socket</b>
    mysocket.close()


</code>
</pre><br>

<b class='comments'># when you run this, it may take some time. you can go have a snack if you want</b>

OUTPUT:

<pre class='OUTPUT'>
Response for /data/email-data.txt:
the link to given file is https://anishbansal.pythonanywhere.com/data/email-data.txt
HTTP/1.1 200 OK
Date: Fri, 31 May 2024 12:34:45 GMT
Content-Type: text/plain; charset=utf-8
Content-Length: 250
Connection: keep-alive
Content-Disposition: inline; filename=email-data.txt
Last-Modified: Fri, 31 May 2024 12:31:50 GMT
Cache-Control: no-cache
X-Clacks-Overhead: GNU Terry Pratchett
Server: PythonAnywhere

Peepo@Twc.com  124764627
Brook@Twc.com  154783542
Jenna@Twc.com  479215678
rohit@Twc.com  479216897
charn@Twc.com  485679010
Einstein@Twx.com 4897523498
ATM@gmail.com  4587921462
bnhvgbj@gmail.com  8965894237
RDJFromWish@gmail.com  5479361456

.....

</pre>

<button class="toggleBtn">Toggle IDE</button>
<div class="iframeContainer" >
<iframe  frameborder="0"></iframe>
</div><br>
                </pre><br>

                <pre class="english hilightPur">
                   <b class="Name">Peepo:</b>
                    <div class="horizontal_scroll">
                        <video controls class="images_scroll">
                            <source src="Image resource/lect18Explain.mp4" type="video/mp4">
                        </video>
                    </div>
                </pre>

                 <b class="Name">Peepo: </b><br>
                 <pre class="english">now this code is too big. so we can shorten it. with using urllib library which does encode and decode stuff for us lets see
if you think how do i know all these functions of the libraries, I remember them from the days i used to learn these and when i forgot, i see documentation of the library online. by searching libraryname documentation .. if i find a new library i understand it by visiting its documentation.. what you can do is just ask ai how the library works

<pre class="code">
import urllib.request,urllib.parse, urllib.error 
response = urllib.request.urlopen('https://anishbansal.pythonanywhere.com/data/email-data.txt')  <b class='comments'># this gives the response. all the stuff we wrote is inside this line usging urllib</b>
<b class='comments'># almost same as open()   does not actually read data but makes a door to read data</b>
for line in response:
    print(line.decode().strip())   <b class='comments'># now line is a byte list so we convert it to string using decode(). </b>
</pre>

<b>python makes it so easy that this file no longer feels like data from internet but a file on the internet. using urllib.request.openurl()   instead of open() . and just decoding the byte array we got ourselves normal string of text contained in this internet file. 
</b>

<pre class="OUTPUT">
Peepo@Twc.com  124764627
Brook@Twc.com  154783542
Jenna@Twc.com  479215678
rohit@Twc.com  479216897
charn@Twc.com  485679010
Einstein@Twx.com 4897523498
ATM@gmail.com  4587921462
bnhvgbj@gmail.com  8965894237
RDJFromWish@gmail.com  5479361456
</pre>

                 </pre><br>

                 <b class="Name">Peepo: </b><br>
                 <pre class="english">Congrats we just retreived data from the web. 

if you dont understand a thing... read the lecture again.
                 </pre><br>

                 <b class="Name">Einstein: </b><br>
                 <pre class="english">Peepo the AI is scaring me. it can do a lot of code in seconds.</pre><br>

                 <b class="Name">Peepo: </b><br>
                 <pre class="english">yes, thats why its a good tool. whats to be scared of. some people might be scared of driving at first. but when they know how to use a vehicle they use it efficiently to travel.
so we must use ai.
now what i want is all of you to go to chatgpt or Peepo bot and ask him to write the above code for you from scartch. ask him how to retreive data from we using sockets.(include this for ease: u have a webpage that contains many files. (this is us describing about the webpage giving the ai more information to provide more accurate results))   
                 </pre><br>

                 <b class="Name">Peepo: </b><br>
                 <pre class="english">thats it for this lecture guys see you in the next one</pre><br>              
                 
                 <br><br><br>
                
                 <h1 class="ending">Next Lecture: web scraping in Python</h1>

        </div>
    </div>
</body>
<script src="../index.js"></script>
</html>